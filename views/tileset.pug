<?xml version="1.0" encoding="UTF-8" standalone="no"?>
svg(
  xmlns:dc="http://purl.org/dc/elements/1.1/"
  xmlns:cc="http://creativecommons.org/ns#"
  xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  xmlns:svg="http://www.w3.org/2000/svg"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  id="svg8"
  version="1.1"
  viewBox=`0 0 ${tileset.imagewidth} ${tileset.imageheight}`


)
  script#json(type="text/json")=tileset.json

  - let cnt = 1;
  - let x = 0, y = 0

  while y < parseInt(tileset.imageheight)
    while x < parseInt(tileset.imagewidth)
      - let tileInfo = tileset.tiles.find((tile)=>{ return tile.id===cnt})
      = `<!--${x},${y} -->`
      = `<!-- ${JSON.stringify(tileInfo)} -->`
      view(id=`${cnt}` width=tileset.tilewidth height=tileset.tileheight viewBox=`${x} ${y} ${tileset.tilewidth} ${tileset.tileheight}` data=tileInfo)
      - cnt++
      - x+=tileset.tilewidth
    - x=0
    - y+=tileset.tileheight
  image(xlink:href=tileset.imageDataUrl x="0" y="0" width=tileset.imagewidth height=tileset.imageheight )
